---
title: "TIL - 1213"
date: 2018-12-13 00:00:00
img:
categories:
- TIL, Network
---

## 컴퓨터 네트워킹

----

## Internet Protocol Overview

1. 인터넷 레이어
- routing protocols : 소스로부터 목적지까지 길을 결정해주는 역할/ 라우팅 프로토콜 지시 사항에 따라 포워딩 테이블이 만들어지고 포워딩이 일어남
- IP 프로토콜 : 라우팅 프로토콜이 일을 하려면 ip 프로토콜이 필요함 기본적으로 주소가 들어있음/ 데이터 포맷/ 패킷 핸들링
- ICMP 프로토콜 : 에러가 발생하면 라우터들에게 알려주는 역할

2. IP 데이터 그램
- tcp와 유사하게 20byte 헤더
- ver : IP버전 (4/6)
- head len : 옵션 헤더
- type of service : 실시간성이 필요한 데이터인지 아닌지 (잘사용은 안함)
- length : 전체 데이터 길이
- fragment offset 부분쪽은 큰 데이터가 들어왔을 때 분
- TTL(time to live) : 목적지에 도착하기까지에 몇개의 라우터에 도달할 수 있는가? 라우터를 지날때마다 1씩 줄어듬 / 이 값이 0이 되었는데도 목적지에 도달하지 못했다면 인터넷상의 좀비가 되는 것 -> 인터넷 자원만 사용함 -> 따라서 목적지에 도달하지 못하면 버림
- header checksum : 에러가 발견된 목적지에 어차피 도착하지 못함

3. IP Fragmentation / Reassembly
- 각 국의 통신 방식이 달랐음
- 네트워크 구조 차이에 상관없이 전달하는 데이터를 모두 정확하고 빠르게 도착할 수 있는 개념
- 최대 전송 사이즈가 정해져있음
- 좀 더 큰 데이터그램을 지원하던 네트워크에서 작은 데이터그램을 지원하는 곳으로 이동할 때 이를 분할하는 역할/ 하나의 데이터그램이 분할되어 전달되면 도착시, 다시 이를 연결해야함
- 분할된 후 fragmentation ID를 부여(같은 데이터그램의 경우 동일한 id를 가짐)
- fragment offset 은 분할된 데이터그램의 순서를 알려주는 것
- 8로 나누는 이유는 비트수의 제약
- flag : 1번비트는 사용안함 2번비트 프레그먼트에서 하지말아라는 것 3번비트(more fragments flag): 분할된 플래그먼트가 더 있는가 없는가를 나타내는 것

4. TTL(Time-to-Live)
- 처음 설정된 TTL이 라우터를 지나갈때마다 1씩 줄어들고 0 이되면 버리는데 이는 좀비데이터를 주릴수 있다. 
