---
title: "TIL - 1218"
date: 2018-12-18 00:00:00
img:
categories:
- TIL, Network
---

## 컴퓨터 네트워킹

----

## Dynamic Host Config, Protocol

1. DHCP
- 호스트를 자동으로 설정해주는 것
- 20년전만 해도 자기가 컴퓨터를 가져다 놓고 직접 IP 주소를 설정해야만 인터넷 접속 가능 -> 요즘은 컴퓨터 전원에 꽂기만하면됨
- 네트워크 접속시, 사용자 설정 없이 IP 주소를 네트워크로부터 직접 자동으로 받아서 설정 가능
- 장점
    - 주소 재사용 가능 : 현재 인터넷 접속 중인 컴퓨터에만 IP를 동적으로 할당하는 것/ 사용자가 이용이 끝나 그 IP 를 회수하여 다른 사용자에게 할당 -> 어느 시점에 접속하고 있는 컴퓨터 대수만큼의 IP 주소를 확보 /32비트로도 충분히 사용할 수 있을 것이다.
    ex) 학생 300명이라면 300개의 IP주소가 필요하다. 그러나 현실적으로 동시에 300명의 학생이 컴퓨터를 사용하는 것은 아니다. 일반적으로 100대만 사용하기 때문에 그 정도만 IP주소를 확보 해놓는 것
- 정리 : 회사 네트워크에 접속하는 순간 네트워크 내에 있는 DHCP 서버가 자신이 가진 IP주소 pool중에서 현재 아무도 사용하지 않는 주소를 할당해주는 프로토콜

2. DHCP 동작 방식
- 응용 레벨에 있는 프로토콜로써 전송 프로토콜은 UDP
- DHCP로 보낼 때, IP주소를 모르기 때문에 누구에게 전송해야하는지 모른다. -> 모든 bit을 1로 세팅 255.255.255.255(브로드 케스트 IP 모든 컴퓨터들이 받야되는 주소)
- DHCP 서버가 아닌 경우 저 메시지를 무시함
- DHCP 서버인 경우는 사용할 수 잇는 ip주소를 알려주는 offer 메시지를 클라이언트에게 전송
- 트랜젹선 ID를 보고 DHCP 서버의 응답이라는 것을 알게됨
- DHCP request : 할당된 주소를 사용하겠다는 것을 보냄
- DHCP ACK 를 받은 뒤에야 할당된 IP주소를 사용하고, lifetime 동안 사용하고 이를 초과하면 갱신하는 통신을 통해 재사용
- 굳이 왜 request/ack 를 보내고 난다음에 할당 주소를 쓰는 걸까? DHCP 서버가 한대 이상일 수도 있다. 그 중에서 클라이언트가 선택해서 주소를 사용 -> 브로드캐스트함으로써 서버가 제공한 주소를 사용할 것이라는 것을 알림

3. DHCP 예제
- DHCP ACK 외 + 기본 게이트 웨이/ 사용할 DNS 서버 사용
- 기본 게이트 웨이 : 인터넷이 맨 처음 거치게 되는 라우터

4. DHCP 이점
- IP 주소를 재사용가능하고 효율성이 좋다.
- Pulg & play 렌선을 꽂기만 하면 사용할 수 있음
