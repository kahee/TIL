---
title: "TIL - 0419"
date: 2019-04-19 00:00:00
img:
categories:
- TIL, Operation_System
---

## 컴퓨터 시스템의 소개 - 컴퓨터 하드웨어의 구성

1. 컴퓨터 하드웨어의 구성
- 컴퓨터 시스템 : 물리적 기게장치인 하드웨어 + 명령어로 작성한 소프트웨어

2. 하드웨어
- 하드웨어 : 물리적인 장치 -> CUP , 메모리 , 입출력 제어기
- 시스템 버스를 통해서 제어가 되고있음

3. 프로세스/CUP
- 하드웨어 구서중 운영체제와 가장 밀접함, 모든 장치의 동작을 제어, 연산수행
- 연산장치
- 레지스터
- 제어장치

4. 레지스터
- 전용레지스터: 특정 목적으로만 사용되고 있음
- 범용레지스터: 일반적으로 사용되고 있는 것
- 사용자 정보 변경 가능 여부
    - user-visible 레지스터 : 접근 가능, 운영체제와 사용자 프로그램을 이용해 정보 변경 가능
      - 데이터 레지스터  
      - 주소 레지스터
    - user-invisible 레지스터 : 접근 불가능
      - PC(Program Counter) - 다음 실행할 명령어 주소 보관 레지스터
      - IR(Instruction Register) - 현재 실행 명령어 보관
      - ACC (누산기) - 데이터 일시적으로 저장
      - MAR(Memory Address Register) - 프로레서가 참조하는 데이터의 주소를 명시하여 메모리에 접근하는 버퍼 레지스터
      - MBE(Memory Buffer Register) - 메모리에서 읽거나 메모리에 저장할 데이터 자체를 보관하는 버퍼 레지스터

5. 프로세스의 기본 레지스터
- ALU (Arithmetic Logic Unit): 산술.논리 연산장치

6. 메모리
- 과거 메인 메모리의 가격이 너무 비싸다는 문제가 있었음
- 레지스터 > 캐시 > 메인 메모리 > 보조기억장치
- 레-캐-메(프로세서가 프로그램과 데이터에 직접 접근 가능) -> 메인메모리라고함
- 보조기억장치 (프로그램과 데이터를 메인 메모리에 옮겨야 실행) ex) cd, 광디스크 , usb
- CUP는 메인메모리에서만 데이터를 가져옴
- 레지스터 : CPU안에 있으며, 가장 빠른 메모리
- 메인메모리 : 프로세서 외부에 있으며 수행할 프로그램과 데이터를 저장하거나 처리한 결과 저장
- 프로세서 <> 메인메모리 <> 주변장치

----

1. 메인 메모리
- CUP는 메인메모리에서 데이터를 가져옴
- 셀로 구성이 되어있으며, 각 셀이 K비트이면 셀에 2^k 값 저장 가능
- 셀은 주소 참조 n비트라면 주소 범위 (0~2^n-1)
- 물리적 주소 공간 : 컴퓨터에 주어진 주소 공간, 프로그래머는 직접 사용하지 않고 수식, 변수 이용
- 논리적 주소 공간 : 컴파일러에 의해 기계어로 변환된 변수와, 명령어 할당 주소/ 별도의 주소 공간   
- 컴파일 : 기계 명령어로 변환하는 처리 과정에서 논리적 주소를 물리적 주소로 변환
- 프로세서 <> 캐시 <> 메인메모리 <> 주변장치
- 역할 : 보조기억장치와 프로세서 사이에 있으며 여기서 발새하는 디스크 입출력 병목 현상을 해결
- 프로세서와 메인메모리간에 속도 차이의 부담을 주리기 위해 내부나, 외부에 캐시를 구현
- 보조기억장치에서 데이터를 가져와서 메인메모리가 이를 프로세서에 전달

2. 메모리 mapping
- 컴파일로 논리적 주소를 물리적 주소로 변환
- 메모리 속도 : 메모리 접근시간/메모리 사이클 시간
    - 접근시간: 읽기를 시작할때까지 시간  -> cpu 버퍼레지스터까지 접근
    - 사이클시간: 읽기 쓰기 완료되는 시간 -> cpu alu, cu까지 들어가면 사이클 시간

3. 캐시
- 프로세서 내부, 외부에 있으며 처리속도가 빠른 프로세서와 상대적으로 느린 메인 메모리의 속도 차이를 보완하는 고속 버퍼
- 셀러론 cpu < 펜티엄 < i7, i5
- 셀러론 cpu 캐시메모리가 일반적으로 반을 줄인 것 -> 속도 차이가남
- 데이터가 이동하는 통로를 확대하여 프로세서와 메모리의 속도 차이를 줄임 -> 프로세서가 자주 찾을 것 같은 데이터를 캐시에 놓은 것 / 못찾으면 다시 메인 메모리에 접근

4. 캐시 메모리 동작
- 태그, 주소
- cpu가 캐시 태그와 메모리 주소를 비교해서 원하는 데이터를 가져옴
- 캐시 적중 (hit) -> 캐시 메모리가 크면 클수록 적중률이 높아짐
- 캐시 실패 (miss)
- 공간적 지역성 : 프로그램이 참조한 주소와 인접한 주소의 내용을 다시 참조 특성
- 시간적 지역성 : 한번 참조한 주소를 곧 다시 참조하는 특성
- 공간적 지역성과 시간적 지역성의 발생 원인
    - 프로그램이 명령어를 순차적으로 실행하는 경향이 있어서 트정 지역 메모리에 인접
    - 순환 때문에 프로그램을 반복하더라도 메모리의 빌부 영역만 참조
    - 대부분의 컴파일러 메모리에 인접한 블록에 배열로 저장 -> 프로그램이 배열 원소에 순차적으로 자주 접근하므로 지역적인 배열 접근 경향이 있음
-> 지역성은 블록이 크면 캐시의 히트율이 올라갈 수 있음, 그러나 블록이 커지면 전송 부담과 캐시 데이터 교체 작업이 자주 일어나므로 블록 크기를 무작정 늘릴 수 없음

5. 보조기억장치
- 2차 기억장치, 외부기억장치

6. 시스템 버스
- 하드웨어를 물리적으로 연결하여 서로 데이터를 주고 받을 수 있게 하는 통로
- 데이터 버스 : 메인메모리, 주변장치 사이에서 데이터 전송 -> 한번에 전송할 수 있는 비트 (워드) / cpu 성능 결정 / 운영체제와 비슷
- 주소 버스 : 프로세서가 시스템의 구성 요소를 식별하는 주소 정보를 전송
- 제어 버스 : 외부 입출력 장치를 사용할때 동작 
- 내부 버스/ 외부버스
