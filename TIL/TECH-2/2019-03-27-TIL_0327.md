---
title: "TIL - 0327"
date: 2019-03-27 00:00:00
img:
categories:
- TIL, Network
---

## Message Integrity
- 메시지 무결성 : 송신자가 처음에 전다한 경태가 수신자에게 도착


1. 메시지 무결성
- 메시지가 정말 보내졌는지 확인
- 메시지가 전달되는 과정에서 변화가 없었는지 확인
- 방법
    - 비대칭키 방식 : MAC
    - 전자서명

2. Message Digest (메시지 요약)
- 전체 메시지가 다 암호화가 되어야 변경이 이루어지지 않음
- 메시지가 공개되어도 상관없으나 그 메시지 내용이 보장만 되면 됨 -> des, aes, rsa 를 하는 것은 연산속도 및 받는쪽에서 부하
- Message Digest : 전체 메시지에서 추려낸 메시지 요약본
- ex)CRC
- 내용을 다 암호화 할필요없이 메시지 요약을 원래 메시지와 비교하면 이 내용이 변경된것이 없다는 것을 확인
- 해시 함수를 이용해서 변경함
- 메시지 내용이 달라도 같은 해시가 나올 수 있음 -> 특정 부분만 바꿨을 때 동일한 해시값이 나오기가 어려움
- 해시함수를 적용하여 나온 메시지 요약에 암호화를 걸어서 보내는 것

3. Message Authentication Code(Mac) Ver1
- 해시 함수를 적용해서 짧은 메시지를 하나 만듬
- 해시 함수를 적용해서 H(m)라는 짧은 메시지를 생성
- sender가 원래 메시지 원본과 해시된 메시지 다이제시스트를 receiver 보냄
- receiver 동일한 해시 알고리즘을 가지고 있다고 가정
- m에 해시 함수를 적용을 해보면 자기가 얻게 되는 H(m)이 있고 계산한 메시지 다이제스트와 sender가 보낸 메시지 다이제스트가 동일한지 비교
- 이런 방식은 쉽게 공격당할 수 있음 -> 해시 알고리즘이 무엇인지만 알고 있다면 m'을 만들고 H(m')으로 변경할 수 있다.

4. Ver2
- s : 인증키
- sender (s+m) -> H(m+s) -> Mac -> (m, H(m+s))
- receiver는 H(m+s)를 얻을 수 있음: 시크릿키를 공유하고 있기 때문에
- 시크릿키를 모르기때문에 공격 당하는 확률이 낮음

5. 전자서명
- 예) Bob이 전자서명을 하고 그것을 앨리스에게 보냈을 때, 이 서명은 밥만 할 수 있고 조작할 수 없다는 것을 증명하는 기술
- 공개키 알고리즘을 이용함
- Kb-(Kb+(m)) = m = Kb+(Kb-(m))
- 공개리를 먼저하나 개인키를 먼저 작용하든 똑같은 m을 만들어 낼 수 있다. -> 이를 이용하여 전자서명을 만들 수 있음
- RSA를 적용하기엔 너무 많은 시간이 필요함
- m에 해시 함수를 이용하고 이에 대한 개인키로 암호화 -> 수신자에게 전달
- 평문으로 메시지를 받아서 해시함수로 메시지를 만들 수 있음
