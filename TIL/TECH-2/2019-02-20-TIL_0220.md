---
title: "TIL - 0220"
date: 2019-02-20 00:00:00
img:
categories:
- TIL, Network
---

## Software Defined Networking
- 최근 20년 내에 사용되는 프로토콜

1. Traffic Engineering with Traditional Routing
- 특정한 곳에만 트래픽이 몰리는 경우가 많았다. 그래서 보내는 사람이 정해놓은 길에 따라 전달되게하는 것 즉, 트래픽 분산 및 효율적으로 전달하는 방법을 고안
- 특정 링크의 트래픽을 조절 하고 싶음 그러나 기존 라우팅에서는 그것이 어렵다. 왜냐하면 목적지만 보고 어떤 길이 더 좋은지 판단하기 때문
- 로드밸런싱 : 노드 부하를 분산하는 것 -> 그러나 기존 라우팅에서는 이렇게 하는 것이 어렵다.

2. Traditional Network Layer
- 개별적인 라우터가 있고 개별적으로 라우팅 알고리즘이 있어서 다른 목적지에 대한 최단 경로를 알아냄
- 라우팅 알고리즘을 관리자가 임의로 교체하거나 라우터가 최초 생성되었을 때 만들어진 알고리즘만 사용해야만 했음

3. Logically Centralized Control Plane
- 데이터 전달하는 것은 스위치의 역할
- 어떻게 전달할 것인가에 대한 유연한 방법을 반영
- 컨트롤러 부분을 관리자가 직접 운영할 수 있게 함
- 각각의 라우터들은 기존 라우터와 달리, 원하는 라우팅 알고리즘을 선택할 수 있게끔 바뀌었음
- 중앙집중형으로 정보를 모은 후 Remote controller가 모든 정보를 판단하여 최단 경로를 만듦
- 길을 선택 할때는 중앙 집중형이 좀더 편한데, 전체 정보를 한곳에 뭉치는 것은 정보를 좀더 효율적으로 관리할 수 있다. 네트워크 연결 정보 뿐만아니라 트래픽도 알 수 있기에 트래픽 분산이 가능

4. sdn
- control plane, data plane 으로 나눔
- 위와 같이 분리함으로서, 사용자가 원하는 라우팅 알고리즘을 실행할 수 있게 되었고 좀더 효율적으로 트래픽을 분산시키거나 관리할 수 있게 되었음.
- control 에이전시: 리모트 컨트롤러에 필요한 정보를 보내줌
- 하부의 data 스위치는 정보를 전달함

5. generalized Forwarding
- 전동적인 방식의 포워딩 : 목적지 주소를 통해 어떻게 하는 것이 효율적인가를 찾음 -> traffic  engineering , 즉 다른 길로 내마음대로 설정이 불가능함
- 사용자가 선택한 필드의 셋을 고려하여 적합한 길을 찾음
- flow table : 하나의 소스 프로세스에서 목적지 프로세스로 도착하는 흐름
  - 소스 프로세스에서 전달되는 데이터그램의 모든 경로를 확인하여 어떻게 전달하는게 좋은지 확인
  - 다양한 플로우 정보를 가지고 길을 만든다.

6. Network Control application
- 라우팅
- 접근 권한
- 로드 밸런싱
- 전체 제어의 핵심 부분, 라우터에 쉽게 조절 할 수 있도록 SDN controller가 있다.

7. SDN 컨트롤러
- ca 에서 보낸 정보를 컨트롤러에서 모음
- 그리고 제어에 있는 라우팅 알고리즘을 사용하여 길을 결정
- northbound api (상부), southbound api(하부)
- logically centralized , 중앙 집중형 -> 문제는 고장나면 모든 것이 다 망가짐
- 서로를 동기화 하면서 실제로는 여러군데에 컨트롤러가 흩어져있지만 하나인것처럼 보이게함

8. Data Plane Switches
- 가장 기본적인 스위치의 역할을 수행함
- open flow 프로토콜을 사용하여 위에 있는 컨트롤러와 네트워크 주고받음 
