---
title: "TIL - 0422"
date: 2019-04-22 00:00:00
img:
categories:
- TIL, Operation_System
---

## 컴퓨터 시스템의 동작
1. 컴퓨터 시스템의 작업 처리 순서
- 입력 장치 정보 입력받아 메모리에 저장
- 메모리에 저장한 정보 -> 프로그램 제어에 따라 연산장치 처리 (CUP 내부)
- 처리한 정보 출력장치에 표시하거나 보조기억장치에 저장

2. 명령어와 데이터
- 입력장치로 유입되는 정보
- 명령어는 실행할 산술.논리 연산의 동작을 명시하는 문장 -> 명령어 집합이 프로그램
- 컴파일러를 이용하여 기계 명령어로 변환해야 컴퓨터가 이해 가능
- OS에 따라서 명령어가 다름

3. 명령어의 구조
- 연산부호(명령부) | 피연산자1... 피연산자n (주소부)
- 연산 부호
    - 프로세서가 실행할 동작인 연산 지정
    - 산술연산, 논리연산, 시프트, 보수 등 연산 정의
- 피연산자
    - 연산할 데이터 정보 저장
- 직접 주소와 간접주소
    - 피연산자의 위치를 명시하는 방법
    - 직접주소 : 피연산자에 데이터가 있는 레지스터나 메모리 주소 지정
    - 간접주소 : 데이터 주소가 있는 경우 (이중포인터)
- 명령어 실행과정
    - 명령어 인출 -> 명령어 해석, 프로그래 카운터 변경(메모리 버퍼) -> 피연산자 인출 -> 명령어 실행 -> 결과저장
- 인출, 실행 사이클 -> 명령사이클  
    - 인출 -> 해석할때까지 : patch 사이클 -> 명령어 레지스터에 저장, 프로그램 카운터 증가
    - 인출 후에 연산완료 직전까지 : 실행사이클 -> 명령어 해독, 제어 신호 발생
- 간접 사이클 : 간접주소를 가지고 명령어 수행
- 인터럽트 사이클 : 입출력 장치가 함께 동작하는 것을 인터럽트 사이클이라고함

4. 명령어의 실행
- PC -> MAR: PC에 저장된 주소를 프로세서 내부 버스를 이용하여 MAR 전달
- Memory -> MBR : MAR에 저장된 주소에 해당하는 명령어 인출 후 MBR에 저장
- PC + 1 -> PC : 다음 명령어 인출
- MBR -> IR (명령어 레지스터) : MBR에 저장된 내용을 IR에 저장
------ patch 사이클
- IRaddr ->  MAR : IR에 저장된 명령어의 피연산자를 MAR에 전달
- Memory -> MBR : MAR에 저장된 주소에 해당하는 메모리 데이터 인출 후 MBR에 저장
- MBR -> IR : MBR에 저장된 내용을 IR에 전달
------- 간접 사이클
- PC -> MAR
- IntRoutine_Address -> PC : 인터럽트 루틴 주소를 PC에 저장
- save_address ->  MAR : PC에 저장된 인터럽트 루틴 주소를 MAR에 저장
- MBR -> Memory Mar : MBR의 주소에 있는 내용을 지시된 메모리 셀로 이동
- 현재 실행중인 프로그램을 중단하고 다른 프로그램의 실행을 요구하는 명령어
- 단일 회선, 다중회선
----- 인터럽트 사이클

 5. 차이점
 - 인터럽트는 서브 루틴 호출과 매우 유사하나 차이점이 있음
 - 인터럽트는 수행중이던 프로그램과 관련이 없을 수도 있음
 - 서브루틴은 자신이 호출한 프로그램이 요구한 기능만 수행
 - 기존의 수행 중이던 프로그램은 인터럽트 영향을 받지 않고 수행을 재개 -> 프로세서는 중단된 프로그램의 복귀한 후 수행에 영향을 미치는 저보를 저장 / 인터럽트 발생시 상태 코드 저장 / 프로세서는 인터럽트 서비스 루틴에서 복귀했을 때 임시 기억 장소에 저장한 워드 다시 적개
 
