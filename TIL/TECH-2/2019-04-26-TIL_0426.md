---
title: "TIL - 0426"
date: 2019-04-26 00:00:00
img:
categories:
- TIL, Operation_System
---

## 3. 프로세스와 스레드
### 3.1 프로세스의 개념과 상태 변화

1. 프로세스의 개념
- 실행 중인 프로그램 -> 메모리에 적재되어있는 프로그램
- 하드디스크 -> RAM (프러세서) -> CPU 
- 프로세서에서 할당하여 실행할 수 있는 개체 디스패치가 가능한 대상 
- 프로그램과 달리 프로세서는 메모리에 주소 공간을 갖는 능동적인 개체 
- 실행 스택 : 명령어의 순서, 복귀 주소, 지역변수 등 일시적인 데이터를 저장하는 영역
- 실행 힙 : 텍스트 영역과는 별도로 유지되는 자유 영역
- 데이터 (정적변수) : 동적으로 할당 받는 영역, 전역 또는 정적 벼수 저장
- 텍스트 : 코드
- 디스크 (프로그램) -> 메모리(프로세스) -> 프로세서 

2. 시스템 관점에서의 프로세스
- 사용자가 컨트롤 할 수 없는 부분 
- 스케줄러 : 프로그램 실행 순서를 결정, CPU에 할당 하는 순서 정함 
- 독립 프로세스 
- 협력 프로세스 : 다른 프로세스에 영향을 줌 
- 실행 (cpu에 할당) -> 디스패치 -> 비실행 -> 인터럽트 -> 비실행 

3. 프로세스의 상태 변화와 상태 정보 
- 준비 : 하드디스크에서 RAM으로 들어간 상태, 프로세서를 할당받으려고 기다리는 상태 (디스패치)
- 실행 : 프로세서를 점유하여 명령어가 실행되는 상태 
- 대기 : 이벤트나 입출력 대기 신호 발생을 기다리는 상태 (다른 프로세서가 들어오는 경우)
- 작업 스케줄러는 스풀러가 디스크에 저장한 작업 중 실행할 작업 선정하고 준비 리스트에 삽입하여 다중 프로그래밍의 정도 결정 
- 준비 -> 실행 (dispatch)
- 실행 -> 준비 (timeout) 
- 실행 -> 대기 (block)
- 대기 -> 준비 (wakeup)

4. 프로세스 제어 블록 
- PCB(Process COntrol Block) : 운영체제가 프로세스 제어시 필요한 프로세스 상태 정보 저장 / 프로세스가 생성도면 메모리에 프로세스 제어 블록 생성, 종료되면 해당 제어 블록도 삭제 
- 식별자 / 상태 / 카운터/ 레지스터 저장 영역/ 스케줄링 정보/ 계정 정보 / 입출력, 메모리 상태 관리 정보 

5. 프로세스의 문맥 교환 (context switching)
- 실행 중인 프로세스의 제어를 다른 프로세스에 넘겨 실행 상태가 되도록 하는 것 
- 문맥 교환이 일어나면 프로세서의 레지스터에 있던 내용 저장 
- 인터럽트, system call, trap 
- 기존 실행하던 프로그램을 중지시키고 새로운걸 실행시기되 어디까지 실행시켰는지 저장하는 과정에서 발생하는 딜레이

6. 프로세스의 구조 
- 유닉스 시스템의 프로세스의 계층 구조 
- 생성 시기 : 운영체제/ 응용 어플리케이션 단에서 요구 
- 순서 
    - 새로운 프로세스에 프로세스 식별자 할당
    - 프로세스의 모든 구성 요소를 포함 할 수 있는 주소 공간, 프로세스 제어 블록 공간 할당 
    - 프로세스 제어 블록 초기화
    - 링크 (큐에 삽입)
- 부모 프로세스와 자식 프로세스 동시 실행 / 부모 프로세스는 자식 프로세스가 끝날 때까지 대기 