---
title: "TIL - 01010"
date: 2018-10-11 00:00:00
img:
categories:
- TIL
---

## Developing SQL Databases

----

## Designing and Implementing Tables  
### Introduction to Data Types
- SQL Server는 다른 데이터 형식도 인식합니다. 따라서 쿼리를 최적화 할 때 쿼리를 실행하는 방법과 사물을 사용하는 방법을 결정합니다. 인덱스를 사용하는 방법, 테이블 조인을 사용하는 방법. 왜냐하면 그 속성들이 어떤 컬럼에 있는지 알고 있기 때문이다.
- 특별한 데이터를 처리하기 위해 특별한 데이터 타입이 있다.
- 속성과 열을 어떠한 범위로 정렬할 것인가를 정하는 것은 굉장히 중요하다.
- sql 서버는 데이터 타입으로 2월이 29일이며 11월은 30일인거와 같은 정보들을 가지고 있고 이해할 수 있다.
따라서 날짜와 같은 공간 데이터와 같은 전용 데이터 유형을 사용하면 여분의 능력을 얻을 수 있다
ex) 날짜 비교
- **시스템에 필요한 데이터가 무엇인지를 이해하는 것이 중요하다. 왜냐하면 효과적인 시스템을 동작시키는데 올바른 타입을 설정할 수 있기 때문이다.**

### Numeric Data Types(숫자 데이터)
- 큰 범위의 숫자를 저장할 수 있다.
    - TINYINT(8비트)	정수형 데이터 타입(1byte) -128 ~ +127 또는 0 ~ 255수 표현 가능하다.
    - SMALLINT(16비트)	정수형 데이터 타입(2byte) -32768 ~ 32767 또는 0 ~ 65536수 표현 가능하다.
    - MEDIUMINT(64비트)	정수형 데이터 타입(3byte) -8388608 ~ +8388607 또는 0 ~ 16777215수 표현 가능하다.
- 고정소수형과 부동소수형을 사용 할 수 있다.
    - FLOAT(길이,소수)	부동 소수형 데이터 타입(4byte) -고정 소수점을 사용 형태이다.
    - DECIMAL(길이,소수)	고정 소수형 데이터 타입고정(길이+1byte) -소수점을 사용 형태이다.
- 부동 소수점 숫자는 다소 이상하게 들리지만 시스템에서 사용하기에 매우 효율적이지만 실제로는 정확도가 떨어 지므로 기본적으로 여기에 저장소를 정의한다는 점에서 정확도가 떨어집니다. 데이터에 일부는 부동소수점을 사용하지 않는다. 정확성때문에
- int, decimal을 주로 사용한다.

### Data and Time Data Types
- dataime : 일반적인 타입으로는 yyyymmdd , uk, un은 좀 다름
- 시간의 경우 HHMMSS
- datatime2 - ISO 룰을 따른다 : datetime2는 더 큰 날짜 범위, 더 많은 기본 소수 자릿수, 선택 항목인 사용자 지정 전체 자릿수를 갖는 기존 datetime 형식의 확장으로 볼 수 있습니다.
- 지구의 회전수에 따라 바뀔 수도 있기 때문에 초로 계산하는게 좀 더 정확
- 윤초는 정의되어 있지 않기 때문에 날짜와 시간이 정확한지 체크해야한다.

### Unique dentifiers
- GUID : 전역 고유 식별자(全域固有識別子, 영어: Globally Unique Identifier, GUID)는 응용 소프트웨어에서 사용되는 유사난수이다. GUID는 생성할 때 항상 유일한 값이 만들어진다는 보장은 없지만, 사용할 수 있는 모든 값의 수가 2128 = 3.4028×1038개로 매우 크기 때문에, 적절한 알고리즘이 있다면 같은 숫자를 두 번 생성할 가능성은 매우 적다.GUID는 오라클 데이터베이스 등 많은 곳에서 쓰이지만, 가장 눈에 띄는 구현은 아마도 마이크로소프트의 구현일 것이다. 표준으로는 오픈 소프트웨어 파운데이션(Open Software Foundation, OSF)이 지정한 범용 고유 식별자(Universally Unique Identifier, UUID)가 있다.
So we run the new ID function it would generate a new GUID to put in that value.
- 랜덤 값

### Converting Data Between Data Types
- SQL 서버는 굉장히 여러군데서 시스템 정보를 받는다. 따라서 우리는 데이터를 스토리지와 SQL Server 모두에 적합한 데이터 형식으로 변환해야합니다.
- CONVERT : 데이터 형식을 다른 데이터 형식으로 변환 -> 어떤 형식으로 정렬할것인지도 체크
- PARSE : 문자열을 dataime 혹은 숫자로 변경해준다.
- TRY_CAST, TRY_CONVERT, and TRY_PARSE. 이 세가지 요소는 null값을 허용하지 않는다.
