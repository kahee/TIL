---
title: "TIL - 01010"
date: 2018-10-10 00:00:00
img:
categories:
- TIL
---

## Developing SQL Databases

----
## Designing a Normalized Relational Database Schema   
## What is Normalization?   
### Normalizing Data
1. Normalization(정규화)
관계형 데이터베이스의 설계에서 **중복을 최소화하게 데이터를 구조화하는 프로세스** 를 정규화라고 한다. 데이터베이스 정규화의 목표는 이상이 있는 관계를 재구성하여 작고 잘 조직된 관계를 생성하는 것에 있다.

2. 언제 정규화를 해야하는가요?
데이터가 없을때는 정규화를 하는 것이 불가능하다. 왜냐하면 그 구조가 맞는지 판단하기 어렵기 때문이다.어느정도의 데이터가 들어와있을 때, 객체간의 관계를 파악할 수 있을 정도에 정규화하는것을 추천한다. 그러나 너무 많은 데이터가 있는 경우엔 정규화를 위해 데이터 옮기는데 더 많은 시간을 투자 해야하는 경우도 있다.

3. Normalization Terms
- 객체 : 데이터베이스 테이블로서 사물 혹은 사람이 될 수도 있다. 예로 개인의 정보, 주문 등이 테이블이 된다.
- 속성 : 엔티티는 공식적으로 테이블을 참조한다. 쉽게 말하면 스프레드시트와 비슷하다.
- 기본키 : 중복이 없는 데이터로 굉장히 중요하며 이는 각 속성의 정보들을 구분하는데 사용한다.
- 슈퍼키 : 기본키는 여러 열로 구성될 수 있다. 각 테이블에서 한개의 값이 유니크하지 않는 경우가 있는데, 이러한 값들을 기본키로 사용하여 유니크하게 만들 수도 있다. 이를 composite key라 한다. 실제로 테이블을 생성할 때 다른 열이 있기 때문에 후보키들이 기본키로 적합할 수도 있다. 그러나 기본키는 오직 하나여야만 하며 데이터들을 구분하는데 가장 적절한 것을 기본키로 설정해야 한다.
- 대체키 : 기본키는 아니지만, 정규화 규칙을 체크하는데 사용. 예로 차 번호, 라이센스 정보 둘다 유니크한 정보이다. 그러나 정규화를 체크할때는 이 모든것들이 대체키들이 잘 맞는지도 체크해야한다.
- 종속 : 다른 속성들을 나눌 때 사용한다. 예로 직원의 이름을 알 수 있는 이유는 해당 테이블에 직원 id를 가지고 있기 때문이다.

4. Denormalization(역정규화)
정규화를 통해 여러개의 테이블을 가진다. 그러나 역정렬화를 하는 이유는 많은 테이블을 보다 효율적으로 관리할 수 있다는 판단이 있기 때문이다. 그리고 삽입, 삭제, 수정하기가 편리하다.
그러나 여러개의 다른 테이블에 걸쳐 많은 쿼리를 실행한다. 이 경우 여러테이블을 활용하여 조인이 이루어진다. 이때 역정규화를 통해(테이블 합치는 것) 조인 횟수를 줄이는 것이 쿼리를 조금 더 빠르게 실행시킬 수 있는 방법이다.
장점 : 쿼리를 좀더 빠르게 실행시킬 수 있다.
단점 : 테이블 삽입,삭제,수정을 실행하는데 어렵다. 왜냐하면 많은 직원 정보들이 저장되어있는 현재 테이블에서 위와 같은 기능을 실행하는데 중복이 있을 수 있기 때문

----

### 1정규화
So first normal form we shouldn’t have any repeating groups.
ex) 반복적인 컬럼

### 2정규화

### 3정규화
all fields must only depend on the key.

### 보이스 코드 BCNF
3NF 3정규화식까지하는게 대부분이다. 이론적으로 4,5정규화까지 있다.

---

## Overnormalization Forms(정규화 양식)
절대적인 법을 따르지 않는게 나을때도 있다. 모든 나라의 zip 코드들을 가지고 있는 경우 너무 많은 정보들을 가지고 있어야 한다. 그때는 주소를 사용하는게 낫다.
중복과 성능을 고려하여 너무 과한 표준화를 하지 말지말것
정규화 관련해서 정리 할것
